{% extends 'base.html' %}
{% load hobbies_tags %}

{% block title %}{{ hobby.title }} - –ú–æ–∏ –•–æ–±–±–∏{% endblock %}

{% block content %}
<div class="hobby-detail-header">
    {% if hobby.image %}
    <div class="hobby-image-large">
        <img src="{{ hobby.image.url }}" alt="{{ hobby.title }}">
    </div>
    {% endif %}
    <div class="hobby-header-content">
        <h1>{{ hobby.title }}</h1>
        {% if hobby.description %}
        <p class="hobby-description-full">{{ hobby.description }}</p>
        {% endif %}
        <div class="hobby-meta-large">
            <span>–°–æ–∑–¥–∞–Ω–æ: {{ hobby.created_at|date:"d.m.Y" }}</span>
            {% if hobby.updated_at != hobby.created_at %}
            <span>–û–±–Ω–æ–≤–ª–µ–Ω–æ: {{ hobby.updated_at|date:"d.m.Y" }}</span>
            {% endif %}
        </div>
    </div>
</div>

{% if entries %}
<div class="entries-feed">
    {% for entry in entries %}
    <article class="entry-full" data-entry-id="{{ entry.id }}">
        <div class="entry-header-full">
            <h2>{{ entry.title }}</h2>
            <div class="entry-meta">
                <time datetime="{{ entry.created_at|date:'c' }}">
                    –°–æ–∑–¥–∞–Ω–æ: {{ entry.created_at|date:"d.m.Y H:i" }}
                </time>
                {% if entry.updated_at != entry.created_at %}
                <time datetime="{{ entry.updated_at|date:'c' }}">
                    –û–±–Ω–æ–≤–ª–µ–Ω–æ: {{ entry.updated_at|date:"d.m.Y H:i" }}
                </time>
                {% endif %}
                {% if entry.images.exists %}
                <span class="image-count">üì∑ {{ entry.images.count }} —Ñ–æ—Ç–æ</span>
                {% endif %}
            </div>
        </div>

        <div class="entry-content-wrapper">
            <div class="entry-content collapsed">
                {% render_content_with_images entry.content entry.images.all %}
            </div>
            <button type="button" class="btn-expand-entry toggle-btn" style="display: none;">
                –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å
            </button>
        </div>
    </article>
    {% endfor %}
</div>
{% else %}
<div class="empty-state">
    <p>–ü–æ–∫–∞ –Ω–µ—Ç –ø–æ—Å—Ç–æ–≤ –¥–ª—è —ç—Ç–æ–≥–æ —Ö–æ–±–±–∏. <a href="{% url 'admin:index' %}">–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π –ø–æ—Å—Ç –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏</a>.</p>
</div>
{% endif %}
{% endblock %}
