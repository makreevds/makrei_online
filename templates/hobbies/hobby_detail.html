{% extends 'base.html' %}

{% block title %}{{ hobby.title }} - –ú–æ–∏ –•–æ–±–±–∏{% endblock %}

{% block content %}
<div class="hobby-detail-header">
    {% if hobby.image %}
    <div class="hobby-image-large">
        <img src="{{ hobby.image.url }}" alt="{{ hobby.title }}">
    </div>
    {% endif %}
    <div class="hobby-header-content">
        <h1>{{ hobby.title }}</h1>
        {% if hobby.description %}
        <p class="hobby-description-full">{{ hobby.description }}</p>
        {% endif %}
        <div class="hobby-meta-large">
            <span>–°–æ–∑–¥–∞–Ω–æ: {{ hobby.created_at|date:"d.m.Y" }}</span>
            {% if hobby.updated_at != hobby.created_at %}
            <span>–û–±–Ω–æ–≤–ª–µ–Ω–æ: {{ hobby.updated_at|date:"d.m.Y" }}</span>
            {% endif %}
        </div>
    </div>
</div>

{% if entries %}
<div class="entries-list">
    {% for entry in entries %}
    <article class="entry-card">
        <div class="entry-header">
            <time datetime="{{ entry.created_at|date:'c' }}">{{ entry.created_at|date:"d.m.Y H:i" }}</time>
            {% if entry.images.exists %}
            <span class="image-count">üì∑ {{ entry.images.count }}</span>
            {% endif %}
        </div>
        <h2><a href="{% url 'hobbies:entry_detail' hobby.slug entry.pk %}">{{ entry.title }}</a></h2>
        <div class="entry-content-preview">
            {{ entry.content|truncatewords:30|linebreaks }}
        </div>
        {% if entry.images.exists %}
        <div class="entry-images-preview">
            {% for image in entry.images.all|slice:":3" %}
            <img src="{{ image.image.url }}" alt="{{ image.caption|default:entry.title }}" class="preview-thumb">
            {% endfor %}
        </div>
        {% endif %}
        <a href="{% url 'hobbies:entry_detail' hobby.slug entry.pk %}" class="read-more">–ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ ‚Üí</a>
    </article>
    {% endfor %}
</div>
{% else %}
<div class="empty-state">
    <p>–ü–æ–∫–∞ –Ω–µ—Ç –ø–æ—Å—Ç–æ–≤ –¥–ª—è —ç—Ç–æ–≥–æ —Ö–æ–±–±–∏. <a href="{% url 'admin:index' %}">–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π –ø–æ—Å—Ç –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏</a>.</p>
</div>
{% endif %}
{% endblock %}
