{% extends "base.html" %}
{% block title %}–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π{% endblock %}
{% block content %}
<h1>–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h1>
<div style="max-width: 800px; margin: 0 auto;">
    <form method="get" action="{% url 'user_search' %}" style="margin-bottom: 30px;">
        <div style="display: flex; gap: 10px;">
            <input 
                type="text" 
                name="q" 
                value="{{ query }}" 
                placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, email –∏–ª–∏ –∏–º—è..." 
                style="flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 16px;"
            >
            <button type="submit" style="padding: 10px 20px; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 16px;">–ü–æ–∏—Å–∫</button>
        </div>
    </form>
    
    {% if query %}
        {% if users %}
            <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ ({{ users.count }}):</h2>
            <div style="display: flex; flex-direction: column; gap: 15px;">
                {% for user in users %}
                    <div style="padding: 15px; border: 1px solid #ddd; border-radius: 5px; background-color: #f9f9f9;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <h3 style="margin: 0 0 5px 0;">
                                    <a href="{% url 'user_posts' user.username %}" style="color: #007bff; text-decoration: none;">
                                        {{ user.username }}
                                    </a>
                                </h3>
                                {% if user.first_name or user.last_name %}
                                    <p style="margin: 0; color: #666; font-size: 0.9em;">
                                        {{ user.get_full_name|default:"" }}
                                    </p>
                                {% endif %}
                                {% if user.email %}
                                    <p style="margin: 5px 0 0 0; color: #666; font-size: 0.85em;">
                                        üìß {{ user.email }}
                                    </p>
                                {% endif %}
                            </div>
                            <div>
                                <a href="{% url 'user_posts' user.username %}" class="button" style="display: inline-block; padding: 8px 16px; background-color: #28a745; color: white; text-decoration: none; border-radius: 5px;">
                                    –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å—Ç—ã
                                </a>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <div style="text-align: center; padding: 40px; color: #666;">
                <p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –ø–æ –∑–∞–ø—Ä–æ—Å—É "{{ query }}"</p>
            </div>
        {% endif %}
    {% else %}
        <div style="text-align: center; padding: 40px; color: #666;">
            <p>–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
        </div>
    {% endif %}
</div>
{% endblock %}

