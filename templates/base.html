{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Сайт{% endblock %}</title>
    <link href="{% static 'style.css' %}" rel="stylesheet">
</head>
<body>
    <nav class="navbar center-buttons">
        <a href="/" class="button{% if request.path == '/' %} active{% endif %}">Домой</a>
        {% if user.is_authenticated %}
            <a href="/blog/" class="button{% if request.path|slice:':6' == '/blog/' %} active{% endif %}">Мой блог</a>
            <a href="/users/search/" class="button{% if '/users/' in request.path %} active{% endif %}">Поиск пользователей</a>
            <span class="username">{{ user.username }}</span>
            <a href="/logout/" class="button">Выйти</a>
        {% else %}
            <a href="/login/" class="button{% if '/login/' in request.path %} active{% endif %}">Войти</a>
        {% endif %}
        <a href="/admin/" class="button{% if '/admin/' in request.path %} active{% endif %}">Админка</a>
    </nav>
    <main>
        {% if messages %}
            <div style="max-width: 800px; margin: 20px auto; padding: 10px;">
                {% for message in messages %}
                    <div style="padding: 10px; margin-bottom: 10px; border-radius: 5px; background-color: {% if message.tags == 'success' %}#d4edda{% elif message.tags == 'error' %}#f8d7da{% else %}#d1ecf1{% endif %}; color: {% if message.tags == 'success' %}#155724{% elif message.tags == 'error' %}#721c24{% else %}#0c5460{% endif %}; border: 1px solid {% if message.tags == 'success' %}#c3e6cb{% elif message.tags == 'error' %}#f5c6cb{% else %}#bee5eb{% endif %};">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
        {% block content %}{% endblock %}
    </main>
</body>
</html>
